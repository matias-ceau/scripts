# Obsidian Vault Selector

---

**obsidian-vault-selector.sh**: Script to open any Obsidian vault through a user-friendly selector.

---

### Dependencies

- `bash`: The shell used to execute the script.
- `eza`: A modern replacement for `ls`, used for listing directories with sorting and formatting options.
- `rg`: Ripgrep, a command-line search tool utilized to filter file types in the directory.
- `fd`: A simple, user-friendly alternative to `find`, used for discovering directories.
- `improved-fzfmenu.sh`: A custom script which builds an interactive fuzzy finder menu for selecting the vault.

### Description

The `obsidian-vault-selector.sh` script facilitates the process of selecting and opening an Obsidian vault. It lists all available vaults located under the `~/PKM` directory, providing a preview of their contents while allowing users to filter through them easily. The script primarily leverages several powerful command-line utilities to ensure a smooth user experience:

- **Preview Command**: The `preview_cmd` function utilizes `eza` to display contents of the selected vault while excluding specific file types such as `.js`, `.css`, `.png`, etc. 
- **Open Vault Command**: `open_vault` opens the selected vault in Obsidian using the vault's URL format.

### Usage

To use the script, ensure that you have the required dependencies installed on your Arch Linux system. You can run it directly in your terminal:

```bash
bash /home/matias/.scripts/obsidian-vault-selector.sh
```

The script will invoke a fuzzy finder menu generated by `improved-fzfmenu.sh`, displaying all available Obsidian vaults. You can navigate through the list using your keyboard, and it will provide a preview of the files contained in the vault.

Upon selecting a vault, the script will open it in Obsidian. If no vault is selected, a notification will appear:

```bash
notify-send "Obsidian Vault Selector" "No vault selected!"
```

---

> [!TIP]  
> Consider adding error handling for each command used within the script. Checking if each dependency is installed before running and providing informative messages for users would enhance the experience. Additionally, an option for users to filter vaults by name or custom tags might streamline the vault selection process even further.